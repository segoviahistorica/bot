const first_date = new Date("2023-06-01"), today_date = new Date, diference_ms = today_date - first_date, diference_days = Math.floor(diference_ms / 864e5); let media_posts = document.getElementById("number_media_posts"); function loadCarouselImages() { let e = document.querySelectorAll(".carousel-indicators > button").length; fetch("assets/metadata.json").then(e => e.json()).then(t => { let a = Object.keys(t); var n = document.getElementsByClassName("carousel-inner")[0]; n.innerHTML = ""; for (var r = new Set; r.size < e;)key_id = a[Math.floor(Math.random() * a.length)], r.has(key_id) || (n.appendChild(createCarouselItem(key_id, t[key_id], r.size)), r.add(key_id)) }) } function createCarouselItem(e, t, a) { let n = document.createElement("div"); return n.classList.add("carousel-item"), 0 == a && n.classList.add("active"), n.appendChild(createCarouselImage(e, t.Link, t.Autor)), n.appendChild(createCarouselCaption(t.Autor, t.Nombre)), n } function createCarouselCaption(e, t) { let a = document.createElement("h5"); a.textContent = e; let n = document.createElement("p"); n.textContent = t; let r = document.createElement("div"); return r.classList.add("carousel-caption", "d-none", "d-md-block"), r.appendChild(a), r.appendChild(n), r } function createCarouselImage(e, t, a) { let n = document.createElement("img"), r = document.createElement("a"); return r.href = t, r.target = "_blank", n.src = "assets/".concat(e, ".webp"), n.alt = "Imagen de Segovia del autor ".concat(a), n.classList.add("d-block", "w-100"), r.appendChild(n), r } media_posts.innerText = diference_days, window.onload = loadCarouselImages;