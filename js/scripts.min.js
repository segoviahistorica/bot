const first_date = new Date("2023-06-01"), today_date = new Date, diference_ms = today_date - first_date, diference_days = Math.floor(diference_ms / 864e5); let media_posts = document.getElementById("number_media_posts"); function loadCarouselImages() { const e = document.querySelectorAll(".carousel-indicators > button").length; fetch("assets/metadata.json").then((e => e.json())).then((t => { const a = Object.keys(t); var n = document.getElementsByClassName("carousel-inner")[0]; n.innerHTML = ""; for (var s = new Set; s.size < e;)key_id = a[Math.floor(Math.random() * a.length)], s.has(key_id) || (n.appendChild(createCarouselItem(key_id, t[key_id], s.size)), s.add(key_id)); document.getElementsByClassName("carousel-control-prev")[0].classList.remove("visually-hidden"), document.getElementsByClassName("carousel-control-next")[0].classList.remove("visually-hidden"), document.getElementsByClassName("carousel-indicators")[0].classList.remove("visually-hidden") })) } function createCarouselItem(e, t, a) { let n = document.createElement("div"); return n.classList.add("carousel-item"), 0 == a && n.classList.add("active"), n.appendChild(createCarouselImage(e, t.Link, t.Autor)), n.appendChild(createCarouselCaption(t.Autor, t.Nombre)), n } function createCarouselCaption(e, t) { let a = document.createElement("h5"); a.textContent = e; let n = document.createElement("p"); n.textContent = t; let s = document.createElement("div"); return s.classList.add("carousel-caption", "d-none", "d-md-block"), s.appendChild(a), s.appendChild(n), s } function createCarouselImage(e, t, a) { let n = document.createElement("img"), s = document.createElement("a"); return s.href = t, s.target = "_blank", n.src = "assets/".concat(e, ".webp"), n.alt = "Imagen de Segovia del autor ".concat(a), n.classList.add("d-block", "w-100"), s.appendChild(n), s } media_posts.innerText = diference_days, window.onload = loadCarouselImages;